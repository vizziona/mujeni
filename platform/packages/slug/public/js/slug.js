(()=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}function t(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}var r=t((function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=$(document).find(".slug-field-wrapper");$(document).on("blur","#".concat(e.data("field-name")),(function(n){if(!e.find('input[name="slug"]').is("[readonly]")){var t=$(n.currentTarget).val();null===t||""===t||e.find('input[name="slug"]').val()||r(t,0)}})),$(document).on("change",'input[name="slug"]',(function(n){var t=$(n.currentTarget);if(0!==(e=$(document).find(".slug-field-wrapper")).has(".slug-data").length){var i=t.val(),o=e.find(".slug-data").data("id")||0;null!==i&&""!==i?r(i,o):t.addClass("is-invalid")}})),$(document).on("click",'[data-bb-toggle="slug-edit"]',(function(n){(e=$(document).find(".slug-field-wrapper")).find('input[name="slug"]').prop("readonly",!1).focus(),$(n.currentTarget).hide(),e.find('[data-bb-toggle="slug-ok"]').show()})),$(document).on("click",'[data-bb-toggle="slug-ok"]',(function(n){(e=$(document).find(".slug-field-wrapper")).find('input[name="slug"]').prop("readonly",!0),$(n.currentTarget).hide(),e.find('[data-bb-toggle="slug-edit"]').show()}));var t=function(){var n=e.find('input[name="slug"]');n.prop("readonly")?(n.prop("readonly",!1),n.closest(".mb-3.position-relative").find(".spinner-border").remove()):(n.prop("readonly",!0),n.closest(".mb-3.position-relative").append('<div\n                    class="spinner-border spinner-border-sm text-secondary"\n                    role="status"\n                    style="border-radius: 50%; position: absolute; top: 2.5rem; z-index: 3; '.concat(n.hasClass("is-invalid")||n.hasClass("is-valid")?"inset-inline-end: 5rem;":"inset-inline-end: 1rem;",'"\n                ></div>')))},r=function(n,r){var i=e.closest("form"),o=e.find(".slug-data");t(),$httpClient.make().post(o.data("url"),{value:n,slug_id:r.toString(),model:i.find('input[name="model"]').val()}).then((function(n){var r=n.data;t();var a="".concat(o.data("view")).concat(r.toString().replace("/",""));e.find('input[name="slug"]').val(r),i.find(".page-url-seo p").text(a),e.find(".slug-current").val(r)}))}}));$((function(){new r}))})();